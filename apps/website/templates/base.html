{% load static %}

<html>
    <head>
        <title>Martin</title>

        <script>
        // Immediately apply the saved theme before any rendering occurs
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        </script>

        <link rel="stylesheet" href="{% static '/tom-select/tom-select.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/style.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/forms.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/tabs.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/tables.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/banks.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/suggestions.css' %}" />
        <link rel="stylesheet" href="{% static '/styles/layout.css' %}" />

        {% block stylesheets %}{% endblock %}
        <script src="{% static 'htmx-2.0.js' %}" type="module" defer></script>
        <script src="{% static 'tabs.js' %}" type="module" defer></script>
        <script src="{% static 'tom-select/tom-select.complete.js' %}" type="module" defer></script>
    </head>
    <body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-boost="false">
        <div class="grid-content">
            <aside class="sidebar">
                {% include 'navigation.html' %}
            </aside>
            <main class="content">
                {% block content %}{% endblock %}
            </main>
        </div>
        <script>
            window.addEventListener('load', function () {
                new TomSelect('.tom-select', {});
            });
        </script>
    </body>
</html>
